{"version":3,"sources":["firebase.js","StateProvider.js","reducer.js","SidebarChat.js","constants.js","UseWindowDimensions.js","Loader.js","Sidebar.js","Chat.js","Login.js","App.js","serviceWorker.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","actionTypes","state","action","type","user","localStorage","setItem","uid","displayName","photoURL","console","log","togglerState","SidebarChat","props","useState","setSeed","addNewChatVal","name","id","messages","setMessages","dispatch","useEffect","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","Math","floor","random","className","to","onClick","Avatar","src","length","message","prompt","delete","then","window","location","catch","error","alert","roomName","add","timestamp","FieldValue","serverTimestamp","getWindowDimensions","width","innerWidth","height","innerHeight","UseWindowDimensions","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","Loader","class","Sidebar","rooms","setRooms","toggler","setToggler","sidebarBool","setsidebarBool","search","setSearch","input","setInput","setLogout","handleChange","e","target","exitApp","removeItem","reload","s","values","re","RegExp","toLowerCase","split","join","filter","v","match","matcher","unsubscribe","getItem","IconButton","color","aria-label","edge","href","style","placeholder","onChange","room","key","Chat","roomId","useParams","setRoomName","emoji","setEmoji","issendChecked","setIssendChecked","datewise","setDateWise","clientGMT","setClinetGMT","lastseenPhoto","setLastseen","hour","extramin","minutes","hourly","GMTminutes","String","slice","useSound","process","volume","playOn","playOff","addEmoji","native","checkEmojiClose","offset","Date","getTimezoneOffset","o","abs","getTimeZone","sendMessage","preventDefault","blankObj","TotalObj","blankArray","dateArray","forEach","i","messageDate","toDate","toUTCString","indexOf","push","index","messageData","messagesEndRef","useRef","scrollToBottom","current","scrollIntoView","behavior","handleDrawerToggle","item","Object","keys","parseInt","getDate","substr","ref","onSelect","disabled","undefined","properties","fontWeight","Login","alt","Button","signInWithPopup","result","err","App","path","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b2225920.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n// const firebaseConfig = {\n//     apiKey: \"AIzaSyB13PntUEDMkFbTt2psiHOZtQih83qrf88\",\n//     authDomain: \"whatsapp-clone-fafc9.firebaseapp.com\",\n//     databaseURL: \"https://whatsapp-clone-fafc9.firebaseio.com\",\n//     projectId: \"whatsapp-clone-fafc9\",\n//     storageBucket: \"whatsapp-clone-fafc9.appspot.com\",\n//     messagingSenderId: \"1027981883218\",\n//     appId: \"1:1027981883218:web:f62f32ffe8e5701f0f2c8b\",\n//     measurementId: \"G-0YMF5ZZL8N\"\n//   };\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCkV3t8D9id4AH9p-GLfLHys-cPUDtzhnA\",\n  authDomain: \"jayas-1db92.firebaseapp.com\",\n  databaseURL: \"https://jayas-1db92-default-rtdb.asia-southeast1.firebasedatabase.app\",\n  projectId: \"jayas-1db92\",\n  storageBucket: \"jayas-1db92.appspot.com\",\n  messagingSenderId: \"695257723268\",\n  appId: \"1:695257723268:web:3cf02d01db5dca110bedd1\",\n  measurementId: \"G-KZNBP5PPCQ\"\n};\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nexport { auth, provider };\nexport default db;\n","import React, { createContext, useContext, useReducer } from \"react\";\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({ reducer, initialState, children }) => (\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\n    {children}\n  </StateContext.Provider>\n);\n\nexport const useStateValue = () => useContext(StateContext);\n","export const initialState = {\n  user: null,\n  uid: null,\n  togglerState: 1,\n  photoURL: \"\",\n};\n\nexport const actionTypes = {\n  SET_USER: \"SET_USER\",\n  SET_SESSION: \"SET_SESSION\",\n  SET_TOGGLER: \"SET_TOGGLER\",\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case actionTypes.SET_USER:\n      return {\n        ...state,\n        user: action.user,\n      };\n    case actionTypes.SET_SESSION:\n      localStorage.setItem(\"uid\", action.uid);\n      localStorage.setItem(\"displayName\", action.displayName);\n      localStorage.setItem(\"photoURL\", action.photoURL);\n      console.log(\"session added to storage\");\n      return {\n        ...state,\n        uid: action.uid,\n        displayName: action.displayName,\n        photoURL: action.photoURL,\n      };\n    case actionTypes.SET_TOGGLER:\n      return {\n        ...state,\n        togglerState: action.togglerState,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React, { useEffect, useState } from \"react\";\nimport { Avatar } from \"@material-ui/core\";\nimport \"./SidebarChat.css\";\nimport db from \"./firebase\";\nimport { Link } from \"react-router-dom\";\nimport { useStateValue } from \"./StateProvider\";\nimport { actionTypes } from \"./reducer\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport firebase from \"firebase\";\nimport { password } from \"./constants\";\nfunction SidebarChat(props) {\n  const [seed, setSeed] = useState(\"\");\n  const { addNewChatVal, name, id } = props;\n  const [messages, setMessages] = useState([]);\n  const [{ togglerState }, dispatch] = useStateValue();\n\n  useEffect(() => {\n    if (id) {\n      db.collection(\"rooms\")\n        .doc(id)\n        .collection(\"messages\")\n        .orderBy(\"timestamp\", \"desc\")\n        .onSnapshot((snapshot) =>\n          setMessages(snapshot.docs.map((doc) => doc.data()))\n        );\n    }\n  }, []);\n\n  useEffect(() => {\n    setSeed(Math.floor(Math.random() * 5000));\n  }, []);\n  const deleteRoom = () => {\n    const passwordVerify = prompt(\"Enter Admin Password to delete Room\");\n    if (passwordVerify == password) {\n      db.collection(\"rooms\")\n        .doc(id)\n        .delete()\n        .then(function () {\n          window.location = \"/\";\n        })\n        .catch(function (error) {\n          console.error(\"Error removing document: \", error);\n        });\n    } else {\n      alert(\"You are not authorised to delete rooms\");\n    }\n  };\n\n  const createChat = () => {\n    const roomName = prompt(\"Please enter name for chat\");\n    if (roomName && roomName.length >= 20) {\n      return alert(\"enter a shorter name for the room\");\n    }\n    if (roomName) {\n      db.collection(\"rooms\").add({\n        name: roomName,\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      });\n    }\n  };\n\n  const handleChat = () => {\n    dispatch({\n      type: actionTypes.SET_TOGGLER,\n      togglerState: togglerState + 1,\n    });\n  };\n\n  return addNewChatVal !== \"true\" ? (\n    <div className=\"sidebarChat\">\n      <Link to={`/rooms/${id}`} onClick={handleChat}>\n        <div className=\"sidebarChat__wrapper\">\n          <Avatar src={messages[0]?.photoURL} />\n          <div className=\"sidebarChat__info\">\n            <h2 className=\"room__name\">{name}</h2>\n            <p className=\"sidebar__lastmessages__color\">\n              <span className=\"sidebar__lastMessageName\">\n                {id != \"\" && messages.length > 0\n                  ? messages[0]?.name + \": \"\n                  : \"Loading: \"}\n              </span>\n              {id != \"\" && messages.length > 0\n                ? messages[0]?.message\n                : \"Start a new chat\"}\n            </p>\n          </div>\n        </div>\n      </Link>\n      <div className=\"sidebarChat__delete\" onClick={deleteRoom}>\n        <DeleteForeverIcon />\n      </div>\n    </div>\n  ) : (\n    <div onClick={createChat} className=\"sidebarChat addnew__chat\">\n      <h2>Add New Room</h2>\n      <AddCircleIcon />\n    </div>\n  );\n}\n\nexport default SidebarChat;\n","export const password = \"your_password_to_delete_room\"; // enter your password here to deleet the room\n","import { useState, useEffect } from \"react\";\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n}\n\nexport default function UseWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n","import React from \"react\";\nimport \"./Loader.css\";\nfunction Loader() {\n  return <div class=\"lds-hourglass\"></div>;\n}\n\nexport default Loader;\n","import React, { useState, useEffect } from \"react\";\nimport { Avatar, Collapse, IconButton } from \"@material-ui/core\";\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport SearchOutlined from \"@material-ui/icons/SearchOutlined\";\nimport SidebarChat from \"./SidebarChat\";\nimport \"./Sidebar.css\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport db from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport { actionTypes } from \"./reducer\";\nimport UseWindowDimensions from \"./UseWindowDimensions\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Loader from \"./Loader\";\n\nfunction Sidebar() {\n  const [rooms, setRooms] = useState([]);\n  const [toggler, setToggler] = useState(false);\n  const [sidebarBool, setsidebarBool] = useState(true);\n  const [{ togglerState }, dispatch] = useStateValue();\n  const [search, setSearch] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [logout, setLogout] = useState(false);\n  const { width } = UseWindowDimensions();\n  const matcher = (s, values) => {\n    const re = RegExp(`.*${s.toLowerCase().split(\"\").join(\".*\")}.*`);\n    return values.filter((v) => v.data.name.toLowerCase().match(re));\n  };\n  const handleChange = (e) => {\n    setsidebarBool(false);\n    setInput(e.target.value);\n  };\n  const exitApp = () => {\n    localStorage.removeItem(\"uid\");\n    window.location.reload();\n    setLogout(true);\n  };\n  useEffect(() => {\n    if (rooms.length > 0) {\n      setSearch(matcher(input, rooms));\n    }\n    if (input === \"\") {\n      setsidebarBool(true);\n    }\n  }, [input]);\n\n  useEffect(() => {\n    const unsubscribe = db\n      .collection(\"rooms\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot((snapshot) => {\n        setRooms(\n          snapshot.docs.map((doc) => ({\n            id: doc.id,\n            data: doc.data(),\n          }))\n        );\n      });\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  useEffect(() => {\n    setToggler(!toggler);\n  }, [togglerState]);\n  const handleDrawerToggle = () => {\n    setToggler(toggler);\n\n    dispatch({\n      type: actionTypes.SET_TOGGLER,\n      togglerState: togglerState + 1,\n    });\n  };\n  const photoURL =\n    localStorage.getItem(\"photoURL\") !== \"\"\n      ? localStorage.getItem(\"photoURL\")\n      : null;\n  const displayName = localStorage.getItem(\"displayName\");\n\n  return (\n    <>\n      {width < 629 ? (\n        <div\n          className={\n            togglerState % 2 !== 0 ? \"sidebar\" : \"sidebar hide__sidebar\"\n          }\n        >\n          <div className=\"siderbar__wrapper\">\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              edge=\"start\"\n              className=\"sidebar__burger\"\n              onClick={handleDrawerToggle}\n            >\n              <MenuIcon />\n            </IconButton>\n            <div className=\"sidebar__header\">\n              <Avatar src={photoURL} />{\" \"}\n              <p className=\"sidebar__greeting mobile__tag\">\n                {\" \"}\n                <a\n                  href=\"https://alii13.github.io/portfolio/\"\n                  style={{ color: \"white\" }}\n                >\n                  Made with ♥ by <span style={{ color: \"white\" }}>Ali</span>\n                </a>\n              </p>\n              <div className=\"sidebar__headerRight\">\n                <IconButton>\n                  <DonutLargeIcon />\n                </IconButton>\n                <IconButton>\n                  <ChatIcon />\n                </IconButton>\n                <IconButton>\n                  <div onClick={exitApp}>\n                    <ExitToAppIcon />\n                  </div>\n                </IconButton>\n              </div>\n            </div>\n          </div>\n          <div className=\"sidebar__search\">\n            <div className=\"sidebar__searchContainer\">\n              <SearchOutlined />\n              <input\n                placeholder=\"Search or Start a new chat\"\n                value={input}\n                type=\"text\"\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n          {sidebarBool ? (\n            <div className=\"sidebar__chats\">\n              <SidebarChat addNewChatVal=\"true\" />\n              {rooms.map((room) => (\n                <SidebarChat key={room.id} id={room.id} name={room.data.name} />\n              ))}\n            </div>\n          ) : (\n            <div className=\"sidebar__chats\">\n              <SidebarChat addNewChatVal=\"true\" />\n              {search.map((room) => (\n                <SidebarChat key={room.id} id={room.id} name={room.data.name} />\n              ))}\n            </div>\n          )}\n        </div>\n      ) : (\n        <div className={\"sidebar\"}>\n          <div className=\"sidebar__header\">\n            <Avatar src={photoURL} />{\" \"}\n            <p className=\"sidebar__greeting\">\n              {\" \"}\n              <a href=\"https://alii13.github.io/portfolio/\">\n                Made with ♥ by <span style={{ color: \"blue\" }}>Ali</span>\n              </a>\n            </p>\n            <div className=\"sidebar__headerRight\">\n              <IconButton>\n                <DonutLargeIcon />\n              </IconButton>\n              <IconButton>\n                <ChatIcon />\n              </IconButton>\n              <IconButton>\n                <div onClick={exitApp}>\n                  <ExitToAppIcon />\n                </div>\n              </IconButton>\n            </div>\n          </div>\n          <div className=\"sidebar__search\">\n            <div className=\"sidebar__searchContainer\">\n              <SearchOutlined />\n              <input\n                placeholder=\"Search or Start a new chat\"\n                value={input}\n                type=\"text\"\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n          {sidebarBool ? (\n            <div className=\"sidebar__chats scrollbar-juicy-peach\">\n              <SidebarChat addNewChatVal=\"true\" />\n              {rooms.length == 0 ? (\n                <Loader />\n              ) : (\n                rooms.map((room) => (\n                  <SidebarChat\n                    key={room.id}\n                    id={room.id}\n                    name={room.data.name}\n                  />\n                ))\n              )}\n            </div>\n          ) : (\n            <div className=\"sidebar__chats \">\n              <SidebarChat addNewChatVal=\"true\" />\n              {search.map((room) => (\n                <SidebarChat key={room.id} id={room.id} name={room.data.name} />\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default Sidebar;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { Avatar, IconButton } from \"@material-ui/core\";\nimport AttachFile from \"@material-ui/icons/AttachFile\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport SearchOutlined from \"@material-ui/icons/SearchOutlined\";\nimport InsertEmoticonIcon from \"@material-ui/icons/InsertEmoticon\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport db from \"./firebase\";\nimport firebase from \"firebase\";\nimport \"./Chat.css\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useStateValue } from \"./StateProvider\";\nimport { actionTypes } from \"./reducer\";\nimport UseWindowDimensions from \"./UseWindowDimensions\";\nimport useSound from \"use-sound\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport Linkify from \"react-linkify\";\n\nfunction Chat() {\n  const [seed, setSeed] = useState(\"\");\n  const [input, setInput] = useState(\"\");\n  const { roomId } = useParams();\n  const [roomName, setRoomName] = useState(\"false\");\n  const [messages, setMessages] = useState([]);\n  const [toggler, setToggler] = useState(true);\n  const displayName = localStorage.getItem(\"displayName\");\n  const [{ togglerState }, dispatch] = useStateValue();\n  const [{ photoURL }] = useStateValue();\n  const [emoji, setEmoji] = useState(false);\n  const [issendChecked, setIssendChecked] = useState(false);\n  const [datewise, setDateWise] = useState([]);\n  const [clientGMT, setClinetGMT] = useState(\"\");\n  const [lastseenPhoto, setLastseen] = useState(\"\");\n  // const [isRecChecked, setIsRecChecked]=useState(1);\n  const { width } = UseWindowDimensions();\n  var hour = 0,\n    extramin = 0,\n    minutes = 0,\n    hourly = 0,\n    GMTminutes = String(clientGMT).slice(4, 6),\n    scrl,\n    fix = 0;\n  // console.log(GMTminutes)\n\n  //console.log(roomId);\n\n  const [playOn] = useSound(`${process.env.PUBLIC_URL}/send.mp3`, {\n    volume: 0.5,\n  });\n  const [playOff] = useSound(`${process.env.PUBLIC_URL}/send.mp3`, {\n    volume: 0.5,\n  });\n\n  const addEmoji = (e) => {\n    let emoji = e.native;\n    setInput(input + emoji);\n  };\n  const checkEmojiClose = () => {\n    if (emoji) {\n      setEmoji(false);\n    }\n  };\n  //console.log(photoURL);\n  // console.log(messages);\n  function getTimeZone() {\n    var offset = new Date().getTimezoneOffset(),\n      o = Math.abs(offset);\n    return (\n      (offset < 0 ? \"+\" : \"-\") +\n      (\"00\" + Math.floor(o / 60)).slice(-2) +\n      \":\" +\n      (\"00\" + (o % 60)).slice(-2)\n    );\n  }\n  useEffect(() => {\n    setClinetGMT(getTimeZone());\n    //  console.log(clientGMT);\n  });\n  useEffect(() => {\n    setSeed(Math.floor(Math.random() * 5000));\n    if (roomId) {\n      db.collection(\"rooms\")\n        .doc(roomId)\n        .onSnapshot((snapshot) => {\n          setRoomName(snapshot.data().name);\n        });\n\n      db.collection(\"rooms\")\n        .doc(roomId)\n        .collection(\"messages\")\n        .orderBy(\"timestamp\", \"asc\")\n        .onSnapshot((snapshot) => {\n          setMessages(snapshot.docs.map((doc) => doc.data()));\n        });\n    }\n  }, [roomId]);\n  useEffect(() => {\n    setLastseen(messages[messages.length - 1]?.photoURL);\n  }, [messages]);\n\n  //  console.log(lastseenPhoto);\n\n  const sendMessage = (e) => {\n    e.preventDefault();\n    // console.log(\"You Typedd >>>>\",input);\n    if (input.length > 0) {\n      db.collection(\"rooms\")\n        .doc(roomId)\n        .collection(\"messages\")\n        .add({\n          message: input,\n          name: displayName,\n          timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n          photoURL: localStorage.getItem(\"photoURL\"),\n        });\n      setIssendChecked(!issendChecked);\n      issendChecked ? playOff() : playOn();\n      setInput(\"\");\n    }\n  };\n\n  // for deletion in future\n\n  // let collectionRef = fs.collection(\"rooms\");\n  // collectionRef.where(\"name\", \"==\", name)\n  // .get()\n  // .then(querySnapshot => {\n  // querySnapshot.forEach((doc) => {\n  //     doc.ref.delete().then(() => {\n  //     console.log(\"Document successfully deleted!\");\n  //     }).catch(function(error) {\n  //     console.error(\"Error removing document: \", error);\n  //     });\n  // });\n  // })\n  // .catch(function(error) {\n  // console.log(\"Error getting documents: \", error);\n  // });\n\n  let blankObj = {};\n  let TotalObj = [];\n  if (messages.length > 0) {\n    // for( const message in messages){\n\n    // }\n    let checkDate = \"\";\n    let blankArray = [];\n    let dateArray = [];\n    messages.forEach(function (message, i) {\n      let messageDate = String(\n        new Date(message.timestamp?.toDate()).toUTCString()\n      ).slice(5, 12);\n      if (dateArray.indexOf(messageDate) === -1) {\n        dateArray.push(messageDate);\n      }\n    });\n    //let tempObj={};\n    var index = 0;\n    messages.forEach(function (message, i) {\n      let messageDate = String(\n        new Date(message.timestamp?.toDate()).toUTCString()\n      ).slice(5, 12);\n      // console.log((message.timestamp+new Date()?.getTimezoneOffset()))\n      if (messageDate === dateArray[index] && i == messages.length - 1) {\n        blankArray.push({\n          messageData: message.message,\n          name: message.name,\n          timestamp: message.timestamp,\n        });\n        blankObj[dateArray[index]] = blankArray;\n        TotalObj.push(blankObj);\n        blankObj = {};\n        blankArray = [];\n        blankArray.push({\n          messageData: message.message,\n          name: message.name,\n          timestamp: message.timestamp,\n        });\n        index = index + 1;\n      } else if (messageDate == dateArray[index]) {\n        blankArray.push({\n          messageData: message.message,\n          name: message.name,\n          timestamp: message.timestamp,\n        });\n      } else {\n        blankObj[dateArray[index]] = blankArray;\n        TotalObj.push(blankObj);\n        blankObj = {};\n        blankArray = [];\n        blankArray.push({\n          messageData: message.message,\n          name: message.name,\n          timestamp: message.timestamp,\n        });\n        if (messageDate != dateArray[index] && i == messages.length - 1) {\n          blankObj[messageDate] = blankArray;\n          TotalObj.push(blankObj);\n        }\n        index = index + 1;\n      }\n    });\n  }\n  useEffect(() => {\n    setDateWise(TotalObj);\n  }, [messages]);\n  //  console.log(TotalObj);\n  // if(Object.keys(datewise).length !== 0){\n  //     Object.entries(datewise).forEach(\n  //         ([key, value]) => {\n  //             console.log(key);\n  //             value.forEach((item,i)=>{\n  //                 console.log(item.messageData,item.name);\n  //             });\n  //         }\n  //     );\n  // }\n\n  const messagesEndRef = useRef(null);\n  const scrollToBottom = () => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n    // console.log('called')\n  };\n  useEffect(() => {\n    scrollToBottom();\n  });\n\n  useEffect(() => {\n    setToggler(!toggler);\n  }, [togglerState]);\n\n  useEffect(() => {\n    scrollToBottom();\n    //   scrl= document.getElementById(\"chat__box\")\n    //  console.log(messagesEndRef.current.clientHeight);\n    //  scrl.scrollIntoView(false);\n  }, [messages]);\n  const handleDrawerToggle = () => {\n    setToggler(!toggler);\n    dispatch({\n      type: actionTypes.SET_TOGGLER,\n      togglerState: togglerState + 1,\n    });\n  };\n  return (\n    <>\n      {width < 629 ? (\n        <div className={togglerState % 2 === 0 ? \"chat\" : \"chat hide__chat\"}>\n          <div className=\"chat__header\">\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              edge=\"start\"\n              onClick={handleDrawerToggle}\n            >\n              <ArrowBackIcon />\n            </IconButton>\n            <Avatar src={lastseenPhoto} />\n            <div className=\"chat__headerInfo\">\n              <h3>{roomName}</h3>\n              <p className=\"header__lastSeen\">\n                last seen{\" \"}\n                {messages.length !== 0\n                  ? messages[messages.length - 1].timestamp\n                      ?.toDate()\n                      .toUTCString()\n                  : \"Loading\"}\n              </p>\n            </div>\n            <div className=\"chat__headerRight\">\n              <IconButton>\n                <SearchOutlined />\n              </IconButton>\n              <IconButton>\n                <AttachFile />\n              </IconButton>\n              <IconButton>\n                <MoreVertIcon />\n              </IconButton>\n            </div>\n          </div>\n          <div className=\"chat__header__absolute\">\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              edge=\"start\"\n              onClick={handleDrawerToggle}\n            >\n              <ArrowBackIcon />\n            </IconButton>\n            <Avatar src={lastseenPhoto} />\n            <div className=\"chat__headerInfo\">\n              <h3>{roomName}</h3>\n              <p className=\"header__lastSeen\">\n                last seen{\" \"}\n                {messages.length !== 0\n                  ? String(\n                      messages[messages.length - 1].timestamp\n                        ?.toDate()\n                        .toUTCString()\n                    ).slice(0, 22)\n                  : \"Loading\"}\n              </p>\n            </div>\n            <div className=\"chat__headerRight\">\n              <IconButton>\n                <SearchOutlined />\n              </IconButton>\n              <IconButton>\n                <AttachFile />\n              </IconButton>\n              <IconButton>\n                <MoreVertIcon />\n              </IconButton>\n            </div>\n          </div>\n          <div className=\"chat__body\">\n            {datewise.length > 0\n              ? datewise.map(\n                  (item, i) =>\n                    //  <div className=\"chat__body__daystamp\">\n                    //     <p className=\"chat__body__daystamp__title\">{Object.keys(item)}</p>\n                    //  </div>\n                    item[Object.keys(item)].map((e, i) =>\n                      i == 0 ? (\n                        <>\n                          {String(Object.keys(item)).slice(0, 2) !== \"id\" &&\n                          parseInt(String(Object.keys(item)).slice(0, 2)) ? (\n                            <div className=\"chat__body__daystamp\">\n                              <p className=\"chat__body__daystamp__title\">\n                                {parseInt(\n                                  String(Object.keys(item)).slice(0, 2)\n                                ) == parseInt(String(new Date().getDate()))\n                                  ? \"TODAY\"\n                                  : Object.keys(item)}\n                              </p>\n                            </div>\n                          ) : null}\n                          <p\n                            className={`chat__messages ${\n                              e.name === displayName && \"chat__reciever\"\n                            }`}\n                          >\n                            <span className=\"chat__name\">\n                              {e.name.substr(0, e.name.indexOf(\" \"))}\n                            </span>\n                            <Linkify>{e.messageData}</Linkify>\n                            <span className=\"chat__timestamp\">\n                              <div className=\"hidden\">\n                                {\n                                  (extramin =\n                                    parseInt(\n                                      String(\n                                        new Date(\n                                          e.timestamp?.toDate()\n                                        ).toUTCString()\n                                      ).slice(20, 22)\n                                    ) +\n                                      parseInt(GMTminutes) >\n                                    60\n                                      ? (parseInt(\n                                          String(\n                                            new Date(\n                                              e.timestamp?.toDate()\n                                            ).toUTCString()\n                                          ).slice(20, 22)\n                                        ) +\n                                          parseInt(GMTminutes)) %\n                                        60\n                                      : 0)\n                                }\n\n                                {\n                                  (minutes =\n                                    parseInt(\n                                      String(\n                                        new Date(\n                                          e.timestamp?.toDate()\n                                        ).toUTCString()\n                                      ).slice(20, 22)\n                                    ) +\n                                      parseInt(GMTminutes) +\n                                      extramin -\n                                      fix >\n                                    60\n                                      ? (parseInt(\n                                          String(\n                                            new Date(\n                                              e.timestamp?.toDate()\n                                            ).toUTCString()\n                                          ).slice(20, 22)\n                                        ) +\n                                          parseInt(GMTminutes) +\n                                          extramin -\n                                          fix) %\n                                        60\n                                      : parseInt(\n                                          String(\n                                            new Date(\n                                              e.timestamp?.toDate()\n                                            ).toUTCString()\n                                          ).slice(20, 22)\n                                        ) +\n                                        parseInt(GMTminutes) +\n                                        extramin -\n                                        fix)\n                                }\n                                {(hour = extramin > 0 ? 1 : 0)}\n\n                                {\n                                  (hourly =\n                                    parseInt(\n                                      String(\n                                        new Date(\n                                          e.timestamp?.toDate()\n                                        ).toUTCString()\n                                      ).slice(17, 19)\n                                    ) +\n                                      hour +\n                                      parseInt(clientGMT) >\n                                    24\n                                      ? (parseInt(\n                                          String(\n                                            new Date(\n                                              e.timestamp?.toDate()\n                                            ).toUTCString()\n                                          ).slice(17, 19)\n                                        ) +\n                                          hour +\n                                          parseInt(clientGMT)) %\n                                        24\n                                      : parseInt(\n                                          String(\n                                            new Date(\n                                              e.timestamp?.toDate()\n                                            ).toUTCString()\n                                          ).slice(17, 19)\n                                        ) +\n                                        hour +\n                                        parseInt(clientGMT))\n                                }\n                              </div>\n                              {hourly ? hourly % 12 : \"00\"}\n                              {\" : \"}\n                              {minutes !== 0\n                                ? minutes < 10\n                                  ? \"0\" + minutes\n                                  : minutes\n                                : \"00\"}\n                              {hourly > 12 ? \" PM\" : \" AM\"}\n                            </span>\n                          </p>\n                        </>\n                      ) : (\n                        <p\n                          className={`chat__messages ${\n                            e.name === displayName && \"chat__reciever\"\n                          }`}\n                        >\n                          <span className=\"chat__name\">\n                            {e.name.substr(0, e.name.indexOf(\" \"))}\n                          </span>\n                          <Linkify>{e.messageData}</Linkify>\n                          <span className=\"chat__timestamp\">\n                            <div className=\"hidden\">\n                              {\n                                (extramin =\n                                  parseInt(\n                                    String(\n                                      new Date(\n                                        e.timestamp?.toDate()\n                                      ).toUTCString()\n                                    ).slice(20, 22)\n                                  ) +\n                                    parseInt(GMTminutes) >\n                                  60\n                                    ? (parseInt(\n                                        String(\n                                          new Date(\n                                            e.timestamp?.toDate()\n                                          ).toUTCString()\n                                        ).slice(20, 22)\n                                      ) +\n                                        parseInt(GMTminutes)) %\n                                      60\n                                    : 0)\n                              }\n\n                              {\n                                (minutes =\n                                  parseInt(\n                                    String(\n                                      new Date(\n                                        e.timestamp?.toDate()\n                                      ).toUTCString()\n                                    ).slice(20, 22)\n                                  ) +\n                                    parseInt(GMTminutes) +\n                                    extramin -\n                                    fix >\n                                  60\n                                    ? (parseInt(\n                                        String(\n                                          new Date(\n                                            e.timestamp?.toDate()\n                                          ).toUTCString()\n                                        ).slice(20, 22)\n                                      ) +\n                                        parseInt(GMTminutes) +\n                                        extramin -\n                                        fix) %\n                                      60\n                                    : parseInt(\n                                        String(\n                                          new Date(\n                                            e.timestamp?.toDate()\n                                          ).toUTCString()\n                                        ).slice(20, 22)\n                                      ) +\n                                      parseInt(GMTminutes) +\n                                      extramin -\n                                      fix)\n                              }\n                              {(hour = extramin > 0 ? 1 : 0)}\n\n                              {\n                                (hourly =\n                                  parseInt(\n                                    String(\n                                      new Date(\n                                        e.timestamp?.toDate()\n                                      ).toUTCString()\n                                    ).slice(17, 19)\n                                  ) +\n                                    hour +\n                                    parseInt(clientGMT) >\n                                  24\n                                    ? (parseInt(\n                                        String(\n                                          new Date(\n                                            e.timestamp?.toDate()\n                                          ).toUTCString()\n                                        ).slice(17, 19)\n                                      ) +\n                                        hour +\n                                        parseInt(clientGMT)) %\n                                      24\n                                    : parseInt(\n                                        String(\n                                          new Date(\n                                            e.timestamp?.toDate()\n                                          ).toUTCString()\n                                        ).slice(17, 19)\n                                      ) +\n                                      hour +\n                                      parseInt(clientGMT))\n                              }\n                            </div>\n                            {hourly ? hourly % 12 : \"00\"}\n                            {\" : \"}\n                            {minutes !== 0\n                              ? minutes < 10\n                                ? \"0\" + minutes\n                                : minutes\n                              : \"00\"}\n                            {hourly > 12 ? \" PM\" : \" AM\"}\n                          </span>\n                        </p>\n                      )\n                    )\n                  //  console.log(Object.keys(item))\n                  // console.log(item[Object.keys(item)])\n                )\n              : // <div className=\"chat__body__daystamp\">\n                //     <p className=\"chat__body__daystamp__title\"></p>\n                //  </div>\n                // Object.entries(datewise).forEach(\n                //     ([key, value]) => {\n\n                //     {\n                //     value.forEach((item,i)=>{\n                //             console.log(item.messageData,item.name)\n                //         })\n                //     }\n                // }\n                // )\n\n                null}\n            <div ref={messagesEndRef}></div>\n          </div>\n\n          <div className=\"chat__footer\">\n            {/* <InsertEmoticonIcon onClick={<Picker onSelect={addEmoji} />}/> */}\n            <IconButton>\n              {/* <InsertEmoticonIcon /> */}\n              <InsertEmoticonIcon\n                className=\"yellow\"\n                onClick={() => setEmoji(!emoji)}\n              />\n              {emoji ? <Picker onSelect={addEmoji} /> : null}\n            </IconButton>\n            {/* <span>\n                                <Picker onSelect={addEmoji} />\n                            </span> */}\n\n            <form>\n              <input\n                value={input}\n                type=\"text\"\n                placeholder=\"Type a message\"\n                onChange={(e) => setInput(e.target.value)}\n                onClick={checkEmojiClose}\n                disabled={\n                  roomName === \"Admin: Ali\"\n                    ? (displayName == \"Shekh Aliul WqnNsFNEPr\" ? true : false)\n                      ? false\n                      : true\n                    : false\n                }\n              />\n              <button type=\"submit\" onClick={sendMessage}>\n                Send A message\n              </button>\n            </form>\n            <IconButton>\n              <MicIcon />\n            </IconButton>\n          </div>\n\n          <div className=\"chat__footer__absolute\">\n            <IconButton>\n              <InsertEmoticonIcon />\n            </IconButton>\n            <form>\n              <input\n                value={input}\n                type=\"text\"\n                placeholder=\"Type a message\"\n                onChange={(e) => setInput(e.target.value)}\n                disabled={roomName == \"Admin: Ali\" ? true : false}\n              />\n              <button type=\"submit\" onClick={sendMessage}>\n                Send A message\n              </button>\n            </form>\n            <IconButton>\n              <MicIcon />\n            </IconButton>\n          </div>\n        </div>\n      ) : (\n        <div className={\"chat\"}>\n          <div className=\"chat__header\">\n            <Avatar src={lastseenPhoto} />\n            <div className=\"chat__headerInfo\">\n              <h3>{roomName}</h3>\n              <p className=\"header__lastSeen\">\n                last seen{\" \"}\n                {messages.length !== 0\n                  ? String(\n                      messages[messages.length - 1].timestamp\n                        ?.toDate()\n                        .toUTCString()\n                    ).slice(0, 22)\n                  : \"Loading\"}\n              </p>\n            </div>\n            <div className=\"chat__headerRight\">\n              <IconButton>\n                <SearchOutlined />\n              </IconButton>\n              <IconButton>\n                <AttachFile />\n              </IconButton>\n              <IconButton>\n                <MoreVertIcon />\n              </IconButton>\n            </div>\n          </div>\n          <div\n            className=\"chat__body scrollbar-juicy-peach\"\n            onClick={checkEmojiClose}\n          >\n            {datewise.length > 0\n              ? datewise.map(\n                  (item, i) =>\n                    item[Object.keys(item)].map((e, i) =>\n                      i == 0 ? (\n                        <>\n                          {String(Object.keys(item))?.slice(0, 2) !== \"id\" &&\n                          Object.keys(item) != undefined ? (\n                            <div className=\"chat__body__daystamp\">\n                              <p className=\"chat__body__daystamp__title\">\n                                {parseInt(\n                                  String(Object.keys(item)).slice(0, 2)\n                                ) == parseInt(String(new Date().getDate()))\n                                  ? \"TODAY\"\n                                  : Object.keys(item)}\n                              </p>\n                            </div>\n                          ) : (\n                            \"\"\n                          )}\n                          <p\n                            className={`chat__messages ${\n                              e.name === displayName && \"chat__reciever\"\n                            }`}\n                          >\n                            <span className=\"chat__name\">\n                              {e.name.substr(0, e.name.indexOf(\" \"))}\n                            </span>\n                            <Linkify\n                              properties={{\n                                target: \"_blank\",\n                                style: { color: \"red\", fontWeight: \"bold\" },\n                              }}\n                            >\n                              {e.messageData}\n                            </Linkify>\n                            <span className=\"chat__timestamp\">\n                              <div className=\"hidden\">\n                                {\n                                  (extramin =\n                                    parseInt(\n                                      String(\n                                        new Date(\n                                          e.timestamp?.toDate()\n                                        ).toUTCString()\n                                      ).slice(20, 22)\n                                    ) +\n                                      parseInt(GMTminutes) >\n                                    60\n                                      ? (parseInt(\n                                          String(\n                                            new Date(\n                                              e.timestamp?.toDate()\n                                            ).toUTCString()\n                                          ).slice(20, 22)\n                                        ) +\n                                          parseInt(GMTminutes)) %\n                                        60\n                                      : 0)\n                                }\n\n                                {\n                                  (minutes =\n                                    parseInt(\n                                      String(\n                                        new Date(\n                                          e.timestamp?.toDate()\n                                        ).toUTCString()\n                                      ).slice(20, 22)\n                                    ) +\n                                      parseInt(GMTminutes) +\n                                      extramin -\n                                      fix >\n                                    60\n                                      ? (parseInt(\n                                          String(\n                                            new Date(\n                                              e.timestamp?.toDate()\n                                            ).toUTCString()\n                                          ).slice(20, 22)\n                                        ) +\n                                          parseInt(GMTminutes) +\n                                          extramin -\n                                          fix) %\n                                        60\n                                      : parseInt(\n                                          String(\n                                            new Date(\n                                              e.timestamp?.toDate()\n                                            ).toUTCString()\n                                          ).slice(20, 22)\n                                        ) +\n                                        parseInt(GMTminutes) +\n                                        extramin -\n                                        fix)\n                                }\n                                {(hour = extramin > 0 ? 1 : 0)}\n\n                                {\n                                  (hourly =\n                                    parseInt(\n                                      String(\n                                        new Date(\n                                          e.timestamp?.toDate()\n                                        ).toUTCString()\n                                      ).slice(17, 19)\n                                    ) +\n                                      hour +\n                                      parseInt(clientGMT) >\n                                    24\n                                      ? (parseInt(\n                                          String(\n                                            new Date(\n                                              e.timestamp?.toDate()\n                                            ).toUTCString()\n                                          ).slice(17, 19)\n                                        ) +\n                                          hour +\n                                          parseInt(clientGMT)) %\n                                        24\n                                      : parseInt(\n                                          String(\n                                            new Date(\n                                              e.timestamp?.toDate()\n                                            ).toUTCString()\n                                          ).slice(17, 19)\n                                        ) +\n                                        hour +\n                                        parseInt(clientGMT))\n                                }\n                              </div>\n                              {hourly ? hourly % 12 : \"00\"}\n                              {\" : \"}\n                              {minutes !== 0\n                                ? minutes < 10\n                                  ? \"0\" + minutes\n                                  : minutes\n                                : \"00\"}\n                              {hourly > 12 ? \" PM\" : \" AM\"}\n                            </span>\n                          </p>\n                        </>\n                      ) : (\n                        <p\n                          className={`chat__messages ${\n                            e.name === displayName && \"chat__reciever\"\n                          }`}\n                        >\n                          <span className=\"chat__name\">\n                            {e.name.substr(0, e.name.indexOf(\" \"))}\n                          </span>\n                          <Linkify>{e.messageData}</Linkify>\n                          <span className=\"chat__timestamp\">\n                            <div className=\"hidden\">\n                              {\n                                (extramin =\n                                  parseInt(\n                                    String(\n                                      new Date(\n                                        e.timestamp?.toDate()\n                                      ).toUTCString()\n                                    ).slice(20, 22)\n                                  ) +\n                                    parseInt(GMTminutes) >\n                                  60\n                                    ? (parseInt(\n                                        String(\n                                          new Date(\n                                            e.timestamp?.toDate()\n                                          ).toUTCString()\n                                        ).slice(20, 22)\n                                      ) +\n                                        parseInt(GMTminutes)) %\n                                      60\n                                    : 0)\n                              }\n\n                              {\n                                (minutes =\n                                  parseInt(\n                                    String(\n                                      new Date(\n                                        e.timestamp?.toDate()\n                                      ).toUTCString()\n                                    ).slice(20, 22)\n                                  ) +\n                                    parseInt(GMTminutes) +\n                                    extramin -\n                                    fix >\n                                  60\n                                    ? (parseInt(\n                                        String(\n                                          new Date(\n                                            e.timestamp?.toDate()\n                                          ).toUTCString()\n                                        ).slice(20, 22)\n                                      ) +\n                                        parseInt(GMTminutes) +\n                                        extramin -\n                                        fix) %\n                                      60\n                                    : parseInt(\n                                        String(\n                                          new Date(\n                                            e.timestamp?.toDate()\n                                          ).toUTCString()\n                                        ).slice(20, 22)\n                                      ) +\n                                      parseInt(GMTminutes) +\n                                      extramin -\n                                      fix)\n                              }\n                              {(hour = extramin > 0 ? 1 : 0)}\n\n                              {\n                                (hourly =\n                                  parseInt(\n                                    String(\n                                      new Date(\n                                        e.timestamp?.toDate()\n                                      ).toUTCString()\n                                    ).slice(17, 19)\n                                  ) +\n                                    hour +\n                                    parseInt(clientGMT) >\n                                  24\n                                    ? (parseInt(\n                                        String(\n                                          new Date(\n                                            e.timestamp?.toDate()\n                                          ).toUTCString()\n                                        ).slice(17, 19)\n                                      ) +\n                                        hour +\n                                        parseInt(clientGMT)) %\n                                      24\n                                    : parseInt(\n                                        String(\n                                          new Date(\n                                            e.timestamp?.toDate()\n                                          ).toUTCString()\n                                        ).slice(17, 19)\n                                      ) +\n                                      hour +\n                                      parseInt(clientGMT))\n                              }\n                            </div>\n                            {hourly ? hourly % 12 : \"00\"}\n                            {\" : \"}\n                            {minutes !== 0\n                              ? minutes < 10\n                                ? \"0\" + minutes\n                                : minutes\n                              : \"00\"}\n                            {hourly > 12 ? \" PM\" : \" AM\"}\n                          </span>\n                        </p>\n                      )\n                    )\n                  //  console.log(Object.keys(item))\n                  // console.log(item[Object.keys(item)])\n                )\n              : // <div className=\"chat__body__daystamp\">\n                //     <p className=\"chat__body__daystamp__title\"></p>\n                //  </div>\n                // Object.entries(datewise).forEach(\n                //     ([key, value]) => {\n\n                //     {\n                //     value.forEach((item,i)=>{\n                //             console.log(item.messageData,item.name)\n                //         })\n                //     }\n                // }\n                // )\n\n                null}\n            <div ref={messagesEndRef} id=\"chat__box\"></div>\n          </div>\n\n          <div className=\"chat__footer\">\n            <IconButton>\n              {/* <InsertEmoticonIcon /> */}\n              <InsertEmoticonIcon\n                className=\"yellow\"\n                onClick={() => setEmoji(!emoji)}\n              />\n              {emoji ? <Picker onSelect={addEmoji} /> : null}\n            </IconButton>\n            <form>\n              <input\n                value={input}\n                type=\"text\"\n                placeholder=\"Type a message\"\n                onChange={(e) => setInput(e.target.value)}\n                onClick={checkEmojiClose}\n                disabled={\n                  roomName === \"Admin: Ali\"\n                    ? (displayName == \"Shekh Aliul WqnNsFNEPr\" ? true : false)\n                      ? false\n                      : true\n                    : false\n                }\n              />\n              <button type=\"submit\" onClick={sendMessage}>\n                Send A message\n              </button>\n            </form>\n            <IconButton>\n              <MicIcon />\n            </IconButton>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default Chat;\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport \"./Login.css\";\nimport { auth, provider } from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport { actionTypes } from \"./reducer\";\nfunction Login() {\n  const [{}, dispatch] = useStateValue();\n\n  const signIn = () => {\n    auth\n      .signInWithPopup(provider)\n      .then((result) => {\n        console.log(result.user);\n        dispatch({\n          type: actionTypes.SET_USER,\n          user: result.user,\n        });\n        dispatch({\n          type: actionTypes.SET_SESSION,\n          uid: result.user.uid,\n          displayName: result.user.displayName,\n          photoURL: result.user.photoURL,\n        });\n      })\n      .catch((err) => alert(err.message));\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"login__container\">\n        <img\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/225px-WhatsApp.svg.png\"\n          alt=\"whatsapp\"\n        />\n        <div className=\"login__text\">\n          <h1>Sign in to Whatsapp</h1>\n        </div>\n        <Button onClick={signIn}>Sign In with Google</Button>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport \"./App.css\";\nimport Sidebar from \"./Sidebar\";\nimport Chat from \"./Chat\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport { useStateValue } from \"./StateProvider\";\nimport UseWindowDimensions from \"./UseWindowDimensions\";\n\nfunction App() {\n  const [{ user }, dispatch] = useStateValue();\n  const { width } = UseWindowDimensions();\n  const uid =\n    localStorage.getItem(\"uid\") !== undefined\n      ? localStorage.getItem(\"uid\")\n      : null;\n\n  return (\n    <div className=\"app\">\n      {!user && !uid ? (\n        <Login />\n      ) : (\n        <div className=\"app__body\">\n          <Router>\n            <Sidebar />\n            <Switch>\n              <Route path=\"/rooms/:roomId\">\n                <Chat />\n              </Route>\n              <Route path=\"/\">\n                <Chat />\n              </Route>\n            </Switch>\n          </Router>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport reducer, { initialState } from \"./reducer\";\nimport { StateProvider } from \"./StateProvider\";\n\nReactDOM.render(\n  <StateProvider initialState={initialState} reducer={reducer}>\n    <App />\n  </StateProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}